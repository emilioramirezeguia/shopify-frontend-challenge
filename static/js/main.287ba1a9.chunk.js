(this["webpackJsonpfrontend-challenge"]=this["webpackJsonpfrontend-challenge"]||[]).push([[0],{56:function(n,e,t){},57:function(n,e,t){"use strict";t.r(e);var i=t(1),o=t(0),a=t(7),r=t.n(a),c=t(5),s=t(4),l=t(26),j=t(3),u=t(23),d=t.n(u),b="FETCHING_MOVIES",m="FETCHING_MOVIES_SUCCESS",O="FETCHING_MOVIES_FAILURE",h="ADD_NOMINATION",v="REMOVE_NOMINATION",f={isLoading:!1,display:!1,movies:[],nominations:[],error:""},p=t(24),x=t.n(p),y=t(25),g=t(27);var N=Object(s.b)((function(n){return{isLoading:n.isLoading}}),{fetchMovies:function(n){return function(e){e({type:b}),d.a.get("http://www.omdbapi.com/?apikey=".concat("a8c1120e","&type=movie&s=").concat(n,")")).then((function(n){"True"===n.data.Response?e({type:m,payload:n.data.Search}):e({type:O,payload:n.data.Error})})).catch((function(n){console.log(n)}))}}})((function(n){var e=Object(o.useState)(""),t=Object(g.a)(e,2),a=t[0],r=t[1];return Object(i.jsx)("div",{className:"barContainer",onSubmit:function(e){e.preventDefault(),n.fetchMovies(a),r("")},children:Object(i.jsxs)("form",{children:[Object(i.jsx)("label",{children:"Movie title"}),Object(i.jsx)("input",{type:"text",name:"movie",placeholder:"What's your favorite movie?",value:a,onChange:function(n){r(n.target.value)}})]})})}));var I=Object(s.b)((function(n){return{movies:n.movies,nominations:n.nominations,error:n.error}}),{addNomination:function(n){return{type:h,payload:n}}})((function(n){return Object(i.jsxs)("div",{className:"resultsContainer",children:[n.error&&Object(i.jsx)("h3",{children:n.error}),n.movies.length>0&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Results..."}),Object(i.jsx)("ul",{children:n.movies.map((function(e,t){return Object(i.jsxs)("li",{children:[e.Title," (",e.Year,")",Object(i.jsx)("button",{disabled:n.nominations.some((function(n){return function(n,e){for(var t=0,i=Object.keys(n);t<i.length;t++){var o=i[t];if(n[o]!==e[o])return!1}return!0}(n,e)})),onClick:function(){return n.addNomination(e)},children:"Nominate"})]},t)}))})]})]})}));var E=Object(s.b)((function(n){return{nominations:n.nominations}}),{removeNomination:function(n){return{type:v,payload:n}}})((function(n){return Object(i.jsx)(i.Fragment,{children:n.nominations.length>0&&Object(i.jsxs)("div",{className:"nominationsContainer",children:[Object(i.jsx)("h3",{children:"Nominations"}),Object(i.jsx)("ul",{children:n.nominations&&n.nominations.map((function(e,t){return Object(i.jsxs)("li",{children:[e.Title," (",e.Year,")"," ",Object(i.jsx)("button",{onClick:function(){return n.removeNomination(e.imdbID)},children:"Remove"})]},t)}))})]})})}));var C=Object(s.b)((function(n){return{display:n.display,nominations:n.nominations}}),{})((function(n){return Object(i.jsxs)(i.Fragment,{children:[5===n.nominations.length?Object(i.jsx)("div",{className:"banner",children:"Thank you for nominating 5 movies!"}):null,Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("nav",{children:Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:"The Shoppies"})})}),Object(i.jsx)(N,{}),n.display&&Object(i.jsxs)("div",{className:"resultsNominations",children:[Object(i.jsx)(I,{}),Object(i.jsx)(E,{})]})]})]})})),S=(t(56),Object(c.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(j.a)(Object(j.a)({},n),{},{isLoading:!0});case m:return Object(j.a)(Object(j.a)({},n),{},{isLoading:!1,display:!0,movies:e.payload,error:""});case O:return Object(j.a)(Object(j.a)({},n),{},{isLoading:!1,movies:[],error:e.payload});case h:return Object(j.a)(Object(j.a)({},n),{},{nominations:[].concat(Object(l.a)(n.nominations),[e.payload])});case v:return Object(j.a)(Object(j.a)({},n),{},{nominations:n.nominations.filter((function(n){return n.imdbID!==e.payload}))});default:return n}}),Object(c.a)(y.a,x.a)));r.a.render(Object(i.jsx)(s.a,{store:S,children:Object(i.jsx)(C,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.287ba1a9.chunk.js.map